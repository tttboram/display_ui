<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>DISPLAY</title>
  <link rel="stylesheet" href="../asset/css/main.css" />
  <script src="../asset/js/lib/jquery-2.2.4.min.js"></script>
  <script src="../asset/js/lib/echarts.common.min.js"></script>
</head>
<body>
<main>
  <!-- WEB -->  
  <div id="signage-stage">

    <!-- A: 8832*864 -->
    <div class="panel-a">
      <!-- background video -->
      <video class="bg_mov" src="../asset/image/bg_part1.mp4" width="8832px" height="864px" autoplay muted></video>

      <div class="board board-now fade-stage">
        <div class="board-time">
          <div class="clock-row">
            <span class="clock-hhmm">
              <span class="ani-time hour1 delay-1">0</span><span class="ani-time hour2 delay-2">4</span>
              <span class="var fadein delay-4 ">:</span>
              <span class="ani-time minute1 delay-1">4</span><span class="ani-time minute2 delay-2">4</span></span>
            <span class="clock-ampm fadein delay-4">AM</span>
          </div>
        </div>

        <div class="board-today" >
          <div class="weather-row">
            <div class="weather-icon ani-weather delay-3">
              <img src="../asset/image/icon/icon_snow.gif" alt="" class="size-m">
            </div>
            <div class="weather-text ani-weather delay-2">맑음</div>
            <div class="weather-text-en ani-weather delay-1">Sunny</div>
          </div>
          <div class="day-row">
            <div class="day-today ani-weather delay-1">화요일, 9월 23일</div>
            <div class="day-today-en ani-weather delay-4">Tuesday, 9 Sep 23</div>
          </div>
          <div class="dust-row">
            <div class="dust-item ani-weather delay-2">
              <span class="dust-label">미세먼지</span>
              <span class="dust-value">21</span>
              <span class="dust-grade">좋음</span>
            </div>
            <div class="dust-item ani-weather delay-3">
              <span class="dust-label">초미세먼지</span>
              <span class="dust-value">6</span>
              <span class="dust-grade">좋음</span>
            </div>
          </div>
        </div>
      </div>

      <div class="board board-weather fade-stage">
        <div class="temp-row">
          <div class="temp-num">
            <span class="ani-time delay-1">2</span>
            <span class="ani-time delay-2">2</span>
            <span class="dosi ani-weather delay-3">°</span>
          </div>
          <div class="temp-condition ani-weather delay-1">
            <span class="condition-kr">맑음</span>
            <span class="condition-en">Sunny</span>
          </div>

          <div class="temp-dust">
            <span class="dust-item ani-weather delay-3"><b>미세먼지</b> <i>21</i> 좋음</span>
            <span class="dust-item ani-weather delay-2"><b>초미세먼지</b> <i>6</i> 좋음</span>
          </div>
        </div>

        <div class="timeline-cell">
          <div class="timeline-row">
            <div class="today">Today</div>
            <div class="date">
              <div class="date-kr">화요일, 9월 23일</div>
              <div class="date-en">Tuesday, 9 Sep 23</div>
            </div>
          </div>

          <div class="chart-row" >
            <!-- chart --> 
            <div id="chart-container"></div>
          </div>

          <!-- 시간대별 -->
          <div class="hourly-row">
            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_snow.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">17°</div>
              <div class="h-time">오전 10시</div>
            </div>

            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_sun.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">21°</div>
              <div class="h-time">오후 12시</div>
            </div>

            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_flash.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">20°</div>
              <div class="h-time">오후 2시</div>
            </div>

            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_moon.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">18°</div>
              <div class="h-time">오후 4시</div>
            </div>

            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_moon_cloud.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">22°</div>
              <div class="h-time">오후 6시</div>
            </div>

            <div class="hour-item">
              <div class="ani-slide">
                <div class="w-icon">
                  <img src="../asset/image/icon/icon_cloud.gif" alt="" class="size-s">
                </div>
              </div>
              <div class="h-temp">23°</div>
              <div class="h-time">오후 8시</div>
            </div>
          </div>

        </div>
      </div>
    </div>

  </div>
</main>

<script>
  $(document).ready(function() {
    function updateClock() {
   

      const now = new Date();

      // 1. 날짜 정보 (연-월-일)
      const year = now.getFullYear();
      const month = now.getMonth() + 1; // 월은 0부터 시작하므로 +1
      const date = now.getDate();

      const monthList_en = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
      const monthName_en = monthList_en[now.getMonth()];

      // 2. 요일 정보 (한글 변환)
      const dayList = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
      const dayList_en = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
      const dayName = dayList[now.getDay()];
      const dayName_en = dayList_en[now.getDay()];

      // 3. 시간 정보 (12시간제 및 AM/PM)
      let hours = now.getHours();

      const minutes = String(now.getMinutes()).padStart(2, '0'); // 두 자리 유지
      let minute1 = minutes.substr(0, 1);
      let minute2 = minutes.substr(1, 2);

      const seconds = String(now.getSeconds()).padStart(2, '0');
      const ampm = hours >= 12 ? 'PM' : 'AM';

      // 12시간제로 변환
      hours = hours % 12;
      hours = hours ? hours : 12; // 0시일 경우 12로 표시

      const hours_tmp = String(hours).padStart(2, '0'); // 두 자리 유지
      let hours1 = hours_tmp.substr(0, 1);
      let hours2 = hours_tmp.substr(1, 2);

      console.log(`현재 시간: ${ampm} ${hours1}${hours2}:${minute1}${minute2}:${seconds}`);

      $(".ani-time.hour1").text(hours1);
      $(".ani-time.hour2").text(hours2);

      $(".ani-time.minute1").text(minute1);
      $(".ani-time.minute2").text(minute2);
      
      $(".clock-ampm").text(ampm);

      let dateStr = dayName + ', ' + month + '월 ' + date + '일';
      $(".day-today").text(dateStr);
      let dateStr_en = dayName_en + ', ' + month + ' ' + monthName_en + ' ' + date;
      $(".day-today-en").text(dateStr_en);

      // 결과 출력
      console.log(`현재 날짜: ${year}년 ${month}월 ${date}일 (${dayName})`);
      console.log(`현재 시간: ${ampm} ${hours}:${minutes}:${seconds}`);
     }

     // 페이지 로드 시 즉시 실행 후 1초마다 반복
      updateClock();
      setInterval(updateClock, 1000);

  });
</script>
<script>
  var dom = document.getElementById('chart-container');
  var myChart = echarts.init(dom, null, {
    renderer: 'svg',
    useDirtyRect: false
  });
  var app = {};


  var option;

  option = {
    backgroundColor: 'transparent',
    xAxis: {
      type: 'category',
      data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
       show: false,
       axisLabel: { show: false },
      axisTick: { show: false },
      axisLine: { show: false }
    },
    yAxis: {
      type: 'value',
      show: false
    },
    series: [
      {
        data: [820, 932, 901, 934, 1290, 1330, 1320],
        type: 'line',
        smooth: true,
        symbol: 'none',
        lineStyle: {
          color: '#ffffff',
          width: 3
        }
      }
    ]
  };


  if (option && typeof option === 'object') {
    myChart.setOption(option);
  }

  window.addEventListener('resize', myChart.resize);
</script>
<style>

#chart-container {
  position: relative;
  height: 230px;
  width: 1200px;
  overflow: hidden;
}

</style>
</body>
</html>
